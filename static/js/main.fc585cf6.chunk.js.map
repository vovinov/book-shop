{"version":3,"sources":["reducers/index.js","reducers/books.js","actionTypes.js","reducers/booksPage.js","reducers/bookPage.js","reducers/basket.js","reducers/categories.js","api/mockBooks.js","api/mockCategories.js","api/index.js","selectors.js","actions/index.js","components/search/index.js","components/navigation/index.js","containers/layout/index.js","components/categories/index.js","containers/books/index.js","containers/book/index.js","containers/basket/index.js","routes.js","index.js"],"names":["history","initialState","state","type","payload","newValues","R","moreValues","id","ids","search","categoryId","name","description","price","preview","image","author","publishing","size_page","weight","isbn","format","cover","fetchBooks","a","Promise","resolve","reject","books","loadMoreBooks","offset","fetchBookById","fetchCategories","categories","getBookById","getActiveCategoryId","ownProps","getBooks","activeCategoryId","item","booksPage","getTotalBasketPrice","basket","getCategories","getBasketBooksWithCount","uniqueIds","book","basketId","addBookToBasket","dispatch","Search","value","handleChange","e","setState","target","handleSubmit","event","preventDefault","props","searchBook","className","onSubmit","this","placeholder","onChange","Component","mapDispatchToProps","text","connect","Navigation","totalBasketCount","href","to","length","Layout","children","compose","withRouter","getActiveState","linkClass","classNames","renderAllCategory","map","category","index","key","renderCategory","Books","src","alt","onClick","renderBook","fetchBooksApi","error","getState","loadMoreBooksApi","fetchCAtegoriesApi","Book","match","params","translateKey","translateValue","renderFields","fetchBookByIdApi","bookPage","removeBookFromBasket","removeAllFromBasket","total","isBasketEmpty","scope","count","routes","path","component","exact","Basket","createBrowserHistory","middleware","thunk","routerMiddleware","store","createStore","combineReducers","router","connectRouter","composeWithDevTools","applyMiddleware","ReactDOM","render","document","querySelector"],"mappings":"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","file":"static/js/main.fc585cf6.chunk.js","sourcesContent":["import { combineReducers } from \"redux\";\r\nimport { connectRouter } from 'connected-react-router'\r\n\r\nimport books from './books'\r\nimport booksPage from './booksPage'\r\nimport bookPage from './bookPage'\r\nimport basket from './basket'\r\nimport categories from './categories'\r\n\r\nexport default history => combineReducers({\r\n    books,\r\n    booksPage,\r\n    bookPage,\r\n    basket,\r\n    categories,\r\n    router: connectRouter(history)\r\n})","import * as R from 'ramda'; \r\n\r\nimport {\r\n    FETCH_BOOKS_SUCCESS,\r\n    LOAD_MORE_BOOKS_SUCCESS,\r\n    FETCH_BOOK_BY_ID_SUCCESS\r\n} from '../actionTypes'\r\n\r\nconst initialState = {\r\n\r\n}\r\n\r\n\r\nexport default (state = initialState, {type, payload}) => {\r\n\r\n    switch (type) {\r\n        case FETCH_BOOKS_SUCCESS:            \r\n            const newValues = R.indexBy(R.prop('id'), payload)\r\n            return R.merge(state, newValues)  \r\n        case LOAD_MORE_BOOKS_SUCCESS:            \r\n            const moreValues = R.indexBy(R.prop('id'), payload)\r\n            return R.merge(state, moreValues)\r\n        case FETCH_BOOK_BY_ID_SUCCESS:             \r\n            return R.assoc(payload.id, payload, state)       \r\n        default:\r\n            return state\r\n    }    \r\n}","export const FETCH_BOOKS_START = 'FETCH_BOOKS_START'\r\nexport const FETCH_BOOKS_SUCCESS = 'FETCH_BOOKS_SUCCESS'\r\nexport const FETCH_BOOKS_FAILURES = 'FETCH_BOOKS_FAILURES'\r\n\r\nexport const LOAD_MORE_BOOKS_START = 'LOAD_MORE_BOOKS_START'\r\nexport const LOAD_MORE_BOOKS_SUCCESS = 'LOAD_MORE_BOOKS_SUCCESS'\r\nexport const LOAD_MORE_BOOKS_FAILURES = 'LOAD_MORE_BOOKS_FAILURES'\r\n\r\nexport const FETCH_BOOK_BY_ID_START = 'FETCH_BOOK_BY_ID_START'\r\nexport const FETCH_BOOK_BY_ID_SUCCESS = 'FETCH_BOOK_BY_ID_SUCCESS'\r\nexport const FETCH_BOOK_BY_ID_FAILURES = 'FETCH_BOOK_BY_ID_FAILURES'\r\n\r\nexport const ADD_BOOK_TO_BASKET = 'ADD_BOOK_TO_BASKET'\r\n\r\nexport const SEARCH_BOOK = 'SEARCH_BOOK'\r\n\r\nexport const FETCH_CATEGORIES_START = 'FETCH_CATEGORIES_START'\r\nexport const FETCH_CATEGORIES_SUCCESS = 'FETCH_CATEGORIES_SUCCESS'\r\nexport const FETCH_CATEGORIES_FAILURES = 'FETCH_CATEGORIES_FAILURES'\r\n\r\nexport const REMOVE_BOOK_FROM_BASKET = 'REMOVE_BOOK_FROM_BASKET'\r\n\r\nexport const REMOVE_ALL_FROM_BASKET = 'REMOVE_ALL_FROM_BASKET'\r\n","import * as R from 'ramda'; \r\n\r\nimport {    FETCH_BOOKS_SUCCESS, \r\n            LOAD_MORE_BOOKS_SUCCESS,\r\n            SEARCH_BOOK } from '../actionTypes'\r\n\r\nconst initialState = {\r\n    ids: [],\r\n    search: ''\r\n\r\n}\r\n\r\nexport default (state = initialState, {type, payload}) => {\r\n\r\n    switch (type) {\r\n        case FETCH_BOOKS_SUCCESS:           \r\n            return R.merge(state, {\r\n                ids: R.pluck('id', payload)\r\n            }) \r\n        case LOAD_MORE_BOOKS_SUCCESS:   \r\n            const ids = R.pluck('id', payload)       \r\n            return R.merge(state, {\r\n                ids: R.concat(state.ids, ids)\r\n            }) \r\n        case SEARCH_BOOK:           \r\n            return R.merge(state, {\r\n                search: payload\r\n            })           \r\n        default:\r\n            return state\r\n    }    \r\n}","import * as R from 'ramda'; \r\n\r\nimport { FETCH_BOOK_BY_ID_SUCCESS } from '../actionTypes'\r\n\r\nconst initialState = {\r\n    id: null    \r\n}\r\n\r\nexport default (state = initialState, {type, payload}) => {\r\n\r\n    switch (type) {\r\n        case FETCH_BOOK_BY_ID_SUCCESS:           \r\n            return R.merge(state, {\r\n                id: payload.id\r\n            })              \r\n        default:\r\n            return state\r\n    }    \r\n}","import * as R from 'ramda'; \r\n\r\nimport {    ADD_BOOK_TO_BASKET,\r\n            REMOVE_BOOK_FROM_BASKET,\r\n            REMOVE_ALL_FROM_BASKET } from '../actionTypes'\r\n\r\nconst initialState = []\r\n\r\nexport default (state = initialState, {type, payload}) => {\r\n\r\n    switch (type) {\r\n        case ADD_BOOK_TO_BASKET:           \r\n            return R.append(payload, state)\r\n        case REMOVE_BOOK_FROM_BASKET:           \r\n            return R.without([payload], state)\r\n        case REMOVE_ALL_FROM_BASKET:           \r\n            return initialState\r\n        default:\r\n            return state\r\n    }    \r\n}","import * as R from 'ramda'; \r\n\r\nimport {\r\n    FETCH_CATEGORIES_SUCCESS\r\n} from '../actionTypes'\r\n\r\nconst initialState = {\r\n\r\n}\r\n\r\n\r\nexport default (state = initialState, {type, payload}) => {\r\n\r\n    switch (type) {\r\n        case FETCH_CATEGORIES_SUCCESS:            \r\n            const newValues = R.indexBy(R.prop('id'), payload)\r\n            return R.merge(state, newValues)        \r\n        default:\r\n            return state\r\n    }    \r\n}","export default [\r\n    {\r\n        id: '1',\r\n        categoryId: '1',\r\n        name: 'Преступление и наказание',\r\n        description:\r\n            '«Преступление и наказание» (1866) — роман об одном преступлении. Двойное убийство, совершенное бедным студентом из-за денег. Трудно найти фабулу проще, но интеллектуальное и душевное потрясение, которое производит роман, — неизгладимо',\r\n        price: 500,\r\n        preview: '/uploads/prestyplenie.jpg',\r\n        image: '/uploads/prestyplenie-bg.jpg',        \r\n        author: 'Федор Достоевский',\r\n        publishing: 'Эксмо',\r\n        size_page: 680,\r\n        weight: '570g',\r\n        isbn: 9785699221899,\r\n        format: '20.8 x 13.6 x 3.1',\r\n        cover: 'hard'\r\n    },\r\n    {\r\n        id: '2',\r\n        categoryId: '3',\r\n        name: 'Мартин Иден',\r\n        description: 'Мартин Иден\" — самый известный роман Джека Лондона, впервые напечатанный в 1908-1909 гг. .Во многом автобиографическая книга о человеке, который \"сделал себя сам\", выбравшись из самых низов, добился признания. Любовь к девушке из высшего общества побуждает героя заняться самообразованием. Он становится писателем, но все издательства отказывают ему в публикации.',\r\n        price: 180,\r\n        preview: '/uploads/martin_iden.jpg',\r\n        image: '/uploads/martin_iden-bg.jpg', \r\n        author: 'Джек Лондон',\r\n        publishing: 'АСТ',\r\n        size_page: 448,\r\n        weight: '230g',\r\n        isbn: 9785170879854,\r\n        format: '17.9 x 11 x 2.4',\r\n        cover: 'soft'\r\n    },\r\n    {\r\n        id: '3',\r\n        categoryId: '4',\r\n        name: 'Американская трагедия',\r\n        description: 'Американская трагедия» (1925) — основанная на реальных событиях криминально-судебная история, психологическая драма и одновременно суровая отповедь «американской мечте',\r\n        price: 219,\r\n        preview: '/uploads/american_tragedy.jpg',\r\n        image: '/uploads/american_tragedy-bg.jpg', \r\n        author: 'Тeодор Драйзер',\r\n        publishing: 'Азбука',\r\n        size_page: 960,\r\n        weight: '450g',\r\n        isbn: 9785389121492,\r\n        format: '18 x 11.6 x 3.5',\r\n        cover: 'soft'\r\n    },\r\n    {\r\n        id: '4',\r\n        categoryId: '4',\r\n        name: 'Приключения Шерлока Холмса',\r\n        description: 'Как спасти брак короля и кого принимают в \"Союз рыжих\"? Способна ли крыса помочь установить убийцу и что можно найти внутри рождественского гуся? Какое зловещее послание несут в себе зернышки апельсина и за что отсекли палец инженеру-гидравлику? На эти и многие другие каверзные вопросы можно с легкостью найти ответ. Правда, для этого нужно быть всего-навсего гением. Таким, как мистер Шерлок Холмс с Бейкер-стрит.',            \r\n        price: 250,\r\n        preview: '/uploads/sherlock.jpg',\r\n        image: '/uploads/sherlock-bg.jpg', \r\n        author: 'Артур Конан Дойль',\r\n        publishing: 'АСТ',\r\n        size_page: 352,\r\n        weight: '320g',\r\n        isbn: 9785389121492,\r\n        format: '20.6 x 12.8 x 2',\r\n        cover: 'hard'\r\n    },\r\n    {\r\n        id: '5',\r\n        categoryId: '3',\r\n        name: 'Путешествие к центру Земли',\r\n        description: 'Знаменитый ученый случайно обнаруживает в образцах лавы из северного вулкана останки животных, исчезнувших с Земли сотни тысяч лет назад. Неужели под земной корой все эти бесчисленные века скрывается от людей доисторический мир гигантских динозавров и птеродактилей, ихтиозавров и других монстров, которых официальная наука считает давно погибшими?! ',\r\n        price: 212,\r\n        preview: '/uploads/pyteshestvie.jpg',\r\n        image: '/uploads/pyteshestvie-bg.jpg', \r\n        author: 'Жюль Верн',\r\n        publishing: 'АСТ',\r\n        size_page: 288,\r\n        weight: '250g',\r\n        isbn: \t9785171117832,\r\n        format: '20.6 x 13 x 2',\r\n        cover: 'hard'\r\n    },\r\n    {\r\n        id: '6',\r\n        categoryId: '5',\r\n        name: 'Лунный камень',\r\n        description: '\"Лунный камень\" — самая известная книга Уилки Коллинза. В этом прекрасном произведении органично сочетаются черты классического детектива, приключенческого и авантюрного романа.',\r\n        price: 150,\r\n        preview: '/uploads/moon_stone.jpg',\r\n        image: '/uploads/moon_stone-bg.jpg', \r\n        author: 'Уилки Коллинз',\r\n        publishing: 'Ас Вижн Индастриал',\r\n        size_page: 544,\r\n        weight: '260g',\r\n        isbn: \t9785171152048,\r\n        format: '18 x 11.4 x 2.1',\r\n        cover: 'soft'\r\n    },\r\n    {\r\n        id: '7',\r\n        categoryId: '1',\r\n        name: 'Братья Карамазовы',\r\n        description: '«Братья Карамазовы» (1879–1880), последний, самый объемный и один из наиболее известных романов Ф. М. Достоевского, обращают читателя к вневременным нравственно-философским вопросам о грехе, воздаянии, сострадании и милосердии.',\r\n        price: 467,\r\n        preview: '/uploads/bratiy_karamazovy.jpg',\r\n        image: '/uploads/bratiy_karamazovy-bg.jpg', \r\n        author: 'Федор Достоевский',\r\n        publishing: 'Азбука',\r\n        size_page: 832,\r\n        weight: '850g',\r\n        isbn: \t9785389155190,\r\n        format: '21.5 x 14.5 x 3.8',\r\n        cover: 'hard'\r\n    },\r\n    {\r\n        id: '8',\r\n        categoryId: '2',\r\n        name: 'Cолярис',\r\n        description: '«Солярис» – бесспорная вершина творчества Станислава Лема, произведение, повлиявшее на развитие научной фантастики XX века, в том числе и на русскую фантастику. Роман дважды экранизирован, по нему были поставлены радиопьесы, спектакли – и даже балет!',\r\n        price: 301,\r\n        preview: '/uploads/solyris.jpg',\r\n        image: '/uploads/solyris-bg.jpg', \r\n        author: 'Станислав Лэм',\r\n        publishing: 'АСТ',\r\n        size_page: 288,\r\n        weight: '330g',\r\n        isbn: \t9785171036027,\r\n        format: '18.6 x 12 x 2.7',\r\n        cover: 'hard'\r\n    }  \r\n]\r\n","export default [\r\n    {\r\n        id: '1',\r\n        name: 'Драма' \r\n    },\r\n    {\r\n        id: '2',\r\n        name: 'Фантастика' \r\n    },\r\n    {\r\n        id: '3',\r\n        name: 'Приключение' \r\n    },\r\n    {\r\n        id: '4',\r\n        name: 'Детектив' \r\n    },\r\n    {\r\n        id: '5',\r\n        name: 'Триллер' \r\n    },    \r\n    {\r\n        id: '6',\r\n        name: 'Психология' \r\n    },\r\n    {\r\n        id: '7',\r\n        name: 'Учебная литература' \r\n    }\r\n]","import books from './mockBooks'\r\nimport categories from './mockCategories'\r\nimport * as R from 'ramda'\r\n\r\nexport const fetchBooks = async () => {\r\n    return new Promise((resolve, reject) => {\r\n        resolve(books)\r\n    })\r\n}\r\n\r\nexport const loadMoreBooks = async ({offset}) => {\r\n    return new Promise((resolve, reject) => {\r\n        resolve(books)\r\n    })\r\n}\r\n\r\nexport const fetchBookById = async (id) => {\r\n    return new Promise((resolve, reject) => {        \r\n        const book = R.find(R.propEq('id', id), books)        \r\n        resolve(book)\r\n    })\r\n}\r\n\r\nexport const fetchCategories = async () => {\r\n    return new Promise((resolve, reject) => {       \r\n        resolve(categories)\r\n    })\r\n}\r\n\r\n","import * as R from 'ramda'\r\n\r\nexport const getBookById = (state, id) => R.prop(id, state.books)\r\n\r\nexport const getActiveCategoryId = ownProps => R.path(['match', 'params', 'id'], ownProps)\r\n\r\nexport const getBooks = (state, ownProps) => {\r\n\r\n    const activeCategoryId = getActiveCategoryId(ownProps)\r\n\r\n    const applySearch = item => R.contains(\r\n        state.booksPage.search,\r\n        item.name\r\n        )\r\n\r\n    const applyCategory = item => R.equals(\r\n        activeCategoryId,\r\n        R.prop('categoryId', item)\r\n    )\r\n\r\n    const books = R.compose(\r\n        R.filter(applySearch),\r\n        R.when(R.always(activeCategoryId), R.filter(applyCategory)),\r\n        R.map((id) => getBookById(state, id))\r\n    )(state.booksPage.ids)\r\n   \r\n    return books\r\n}\r\n\r\nexport const getTotalBasketPrice = state => {\r\n\r\n    const totalPrice = R.compose(\r\n        R.sum(),\r\n        R.pluck('price'),\r\n        R.map(id => getBookById(state, id))\r\n        )(state.basket)        \r\n        \r\n    return totalPrice\r\n}\r\n\r\nexport const getRenderedBooksNumber = state => R.length(state.booksPage.ids)\r\n\r\nexport const getCategories = state => R.values(state.categories)\r\n\r\nexport const getBasketBooksWithCount = state => {\r\n\r\n    const bookCount = id => R.compose(\r\n            R.length,\r\n            R.filter(basketId => R.equals(id, basketId))\r\n        )(state.basket)\r\n    \r\n\r\n    const bookWithCount = book => R.assoc('count', bookCount(book.id), book)\r\n\r\n    const uniqueIds = R.uniq(state.basket)\r\n\r\n    const books = R.compose(\r\n        R.map(bookWithCount),\r\n        R.map(id => getBookById(state, id))\r\n    )(uniqueIds)\r\n\r\n    return books\r\n}\r\n\r\n\r\n","import {\r\n    FETCH_BOOKS_START,\r\n    FETCH_BOOKS_SUCCESS,\r\n    FETCH_BOOKS_FAILURES,\r\n    LOAD_MORE_BOOKS_START,\r\n    LOAD_MORE_BOOKS_SUCCESS,\r\n    LOAD_MORE_BOOKS_FAILURES,\r\n    FETCH_BOOK_BY_ID_START,\r\n    FETCH_BOOK_BY_ID_SUCCESS,\r\n    FETCH_BOOK_BY_ID_FAILURES,\r\n    ADD_BOOK_TO_BASKET,\r\n    SEARCH_BOOK,\r\n    FETCH_CATEGORIES_START,\r\n    FETCH_CATEGORIES_SUCCESS,\r\n    FETCH_CATEGORIES_FAILURES,\r\n    REMOVE_BOOK_FROM_BASKET,\r\n    REMOVE_ALL_FROM_BASKET\r\n} from '../actionTypes'\r\n\r\nimport {fetchBooks as fetchBooksApi,\r\n        loadMoreBooks as loadMoreBooksApi,\r\n        fetchBookById as fetchBookByIdApi,\r\n        fetchCategories as fetchCAtegoriesApi} from '../api'\r\n\r\nimport {getRenderedBooksNumber} from '../selectors' \r\n\r\n\r\nexport const fetchBooks = () => async dispatch => {\r\n    dispatch({type: FETCH_BOOKS_START})\r\n\r\n    try {\r\n        const books = await fetchBooksApi()\r\n        dispatch({\r\n            type: FETCH_BOOKS_SUCCESS,\r\n            payload: books            \r\n        })\r\n    } catch (err) {\r\n        dispatch({\r\n            type: FETCH_BOOKS_FAILURES,\r\n            payload: err,\r\n            error: true\r\n        })\r\n    }\r\n}\r\n\r\nexport const loadMoreBooks = () => async (dispatch, getState) => {\r\n\r\n    const offset = getRenderedBooksNumber(getState())\r\n\r\n    dispatch({type: LOAD_MORE_BOOKS_START})\r\n\r\n    try {\r\n        const books = await loadMoreBooksApi({offset})\r\n        dispatch({\r\n            type: LOAD_MORE_BOOKS_SUCCESS,\r\n            payload: books            \r\n        })\r\n    } catch (err) {\r\n        dispatch({\r\n            type: LOAD_MORE_BOOKS_FAILURES,\r\n            payload: err,\r\n            error: true\r\n        })\r\n    }\r\n}\r\n\r\nexport const fetchBookById = id => async dispatch => {\r\n    dispatch({type: FETCH_BOOK_BY_ID_START})\r\n\r\n    try {\r\n        const book = await fetchBookByIdApi(id)\r\n        dispatch({\r\n            type: FETCH_BOOK_BY_ID_SUCCESS,\r\n            payload: book            \r\n        })\r\n    } catch (err) {\r\n        dispatch({\r\n            type: FETCH_BOOK_BY_ID_FAILURES,\r\n            payload: err,\r\n            error: true\r\n        })\r\n    }\r\n}\r\n\r\nexport const addBookToBasket = id => dispatch => {\r\n    dispatch({\r\n        type: ADD_BOOK_TO_BASKET,\r\n        payload: id\r\n    })\r\n}\r\n\r\nexport const searchBook = text => dispatch => {\r\n    dispatch({\r\n        type: SEARCH_BOOK,\r\n        payload: text\r\n    })\r\n}\r\n\r\nexport const fetchCategories = () => async dispatch => {\r\n    dispatch({type: FETCH_CATEGORIES_START})\r\n\r\n    try {\r\n        const categories = await fetchCAtegoriesApi()\r\n        dispatch({\r\n            type: FETCH_CATEGORIES_SUCCESS,\r\n            payload: categories           \r\n        })\r\n    } catch (err) {\r\n        dispatch({\r\n            type: FETCH_CATEGORIES_FAILURES,\r\n            payload: err,\r\n            error: true\r\n        })\r\n    }\r\n}\r\n\r\nexport const removeBookFromBasket = id => dispatch => {\r\n    dispatch({\r\n        type: REMOVE_BOOK_FROM_BASKET,\r\n        payload: id\r\n    })\r\n}\r\n\r\nexport const removeAllFromBasket = () => dispatch => {\r\n    dispatch({type: REMOVE_ALL_FROM_BASKET})\r\n}\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\n\r\nimport { searchBook } from '../../actions'\r\n\r\n\r\nclass Search extends Component {\r\n\r\n    state = {\r\n        value: ''\r\n    }\r\n\r\n    handleChange = (e) => {\r\n        this.setState({\r\n            value: e.target.value\r\n        })\r\n    }\r\n\r\n    handleSubmit = (event) => {\r\n        event.preventDefault()\r\n        this.props.searchBook(this.state.value)\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <form \r\n                className=\"form-inline my-2 my-lg-0\"\r\n                onSubmit={this.handleSubmit} >\r\n                <input \r\n                    className=\"form-control mr-sm-2\" \r\n                    type=\"text\" \r\n                    placeholder=\"Search\" \r\n                    onChange={this.handleChange}\r\n                />\r\n                <button \r\n                    className=\"btn btn-secondary my-2 my-sm-0\" \r\n                    type=\"submit\">\r\n                        Поиск\r\n                </button>\r\n            </form> \r\n        )\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    searchBook\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(Search)\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport {Link} from 'react-router-dom'\r\n\r\nimport Search from '../search'\r\n\r\n\r\nclass Navigation extends Component {\r\n\r\n    render() {\r\n\r\n        \r\n        const { totalBasketCount } = this.props       \r\n\r\n        return (\r\n            <nav className=\"navbar navbar-dark bg-primary\">\r\n                <a className=\"navbar-brand\" href=\"!#\">Bookshop</a>          \r\n                <Search />               \r\n               <Link to=\"/basket\" className=\"btn btn-secondary my-2 my-sm-0\">\r\n                    <i className=\"fas fa-shopping-basket fa-lg mr-1\"></i>\r\n                    <span>Корзина</span>    \r\n                    <span className=\"badge badge-success ml-2\">{totalBasketCount > 0 && totalBasketCount}</span>\r\n               </Link>                     \r\n            </nav>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        totalBasketCount: state.basket.length\r\n    }\r\n    \r\n}\r\n\r\nexport default connect(mapStateToProps, null)(Navigation)","import React from 'react'\r\n\r\nimport Navigation from '../../components/navigation'\r\n\r\nimport './layout.css'\r\n\r\nconst Layout = ({children}) => {    \r\n    return (  \r\n        <>                   \r\n            <header>\r\n                <Navigation />\r\n            </header>          \r\n            <main>   \r\n                <div className=\"container\">\r\n                    {children}        \r\n                </div> \r\n            </main>  \r\n            <footer className=\"footer bg-primary\">\r\n                <div className=\"container\">\r\n                    <div className=\"row\">\r\n                        <p className=\"text-dark footer__text\">  &copy; 2020</p>\r\n                    </div>\r\n                </div>        \r\n            </footer>   \r\n        </>        \r\n    )\r\n}     \r\n\r\nexport default Layout\r\n","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport { withRouter } from 'react-router'\r\nimport {compose} from 'redux'\r\nimport classNames from 'classnames'\r\nimport * as R from 'ramda'\r\n\r\nimport {getCategories, getActiveCategoryId} from '../../selectors'\r\n\r\n\r\nconst Categories = ({categories, activeCategoryId}) => {   \r\n\r\n    const getActiveState = R.propEq('id', activeCategoryId)\r\n\r\n    const renderCategory = (category, index) => {\r\n\r\n        const linkClass = classNames({\r\n            'list-group-item': true,\r\n            'list-group-item-action': true,\r\n            'active': getActiveState(category)\r\n        })\r\n\r\n        return (\r\n            <Link\r\n                to={`/categories/${category.id}`}\r\n                key={index}\r\n                className={linkClass}>\r\n                    {category.name}\r\n            </Link>\r\n        )\r\n    } \r\n    \r\n    const renderAllCategory = () => {\r\n\r\n        const linkClass = classNames({\r\n            'list-group-item': true,\r\n            'list-group-item-action': true,\r\n            'active': R.isNil(activeCategoryId)\r\n        })\r\n\r\n        return (\r\n            <Link\r\n                to=\"/\"\r\n                className={linkClass}>\r\n                    Все\r\n            </Link>\r\n        )\r\n    }\r\n     \r\n    return (\r\n        <div className=\"col-lg-3 mb-5\">\r\n            <div className=\"list-group\">\r\n                {renderAllCategory()}\r\n                {categories.map((category, index) => renderCategory(category, index))}               \r\n            </div>\r\n        </div>\r\n    )\r\n\r\n }          \r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n    categories: getCategories(state),\r\n    activeCategoryId: getActiveCategoryId(ownProps) \r\n\r\n})\r\n\r\nexport default compose(\r\n    withRouter,\r\n    connect(mapStateToProps, null)\r\n)(Categories)\r\n\r\n","import React, {Component} from 'react'\r\nimport { connect } from 'react-redux'\r\nimport {Link} from 'react-router-dom'\r\n\r\nimport {\r\n        fetchBooks, \r\n        loadMoreBooks,\r\n        addBookToBasket,\r\n        fetchCategories\r\n    } from '../../actions'\r\nimport { getBooks } from '../../selectors'\r\nimport Layout from '../layout'\r\nimport Categories from '../../components/categories'\r\n\r\nimport './books.css'\r\n\r\nclass Books extends Component { \r\n\r\n    componentDidMount() {\r\n        this.props.fetchBooks()\r\n        this.props.fetchCategories()\r\n        \r\n    }\r\n\r\n    renderBook(book, index) {        \r\n\r\n        const {addBookToBasket} = this.props\r\n\r\n        return (         \r\n            <li className=\"col-sm-6 col-md-4 col-lg-3\" key={index}>\r\n                <div className=\"card mb-5\">            \r\n                    <a href=\"!#\" className=\"card__img-block\">\r\n                        <img \r\n                            src={book.preview} \r\n                            className=\"img-fluid\" \r\n                            alt={book.name} >\r\n                        </img>\r\n                    </a>                        \r\n                    <div className=\"card-body\">\r\n                        <Link to={`/books/${book.id}`} className=\"card__title\">\r\n                            {book.name}\r\n                        </Link>\r\n                        <p className=\"card__text text-muted\">{book.author}</p>\r\n                        <p className=\"card__price text-secondary\">\r\n                            {book.price} \r\n                            <i className=\"fas fa-ruble-sign ml-1\"></i>\r\n                        </p>\r\n                    </div>                                                                 \r\n                    <div className=\"card-footer\">\r\n                        <button \r\n                            className=\"btn btn-info\"\r\n                            onClick={() => addBookToBasket(book.id)}>\r\n                            КУПИТЬ\r\n                        </button>\r\n                    </div>\r\n                </div>                            \r\n            </li>\r\n        )\r\n    }   \r\n\r\n    render() {\r\n\r\n        const { books, loadMoreBooks } = this.props\r\n\r\n        return (\r\n            <Layout>\r\n                <section className=\"book-list\"> \r\n                    <div className=\"row\">\r\n                        <h2 className=\"col book-list__title text-center\">Книги</h2>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                        <Categories />                        \r\n                        <div className=\"col-lg-9\">\r\n                            <ul className=\"book-list__list row\">  \r\n                                {books.map((book, index) => this.renderBook(book, index))}\r\n                            </ul>                                                                              \r\n                        </div>\r\n                    </div>                       \r\n                    <div className=\"row\">\r\n                        <div className=\"ml-auto col-lg-9 text-center\">\r\n                            <button\r\n                                className=\"btn btn-warning\"\r\n                                onClick={loadMoreBooks}>\r\n                                    Load more\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </section>                            \r\n            </Layout>           \r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n    books: getBooks(state, ownProps)\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n    fetchBooks,\r\n    loadMoreBooks,\r\n    addBookToBasket,\r\n    fetchCategories\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Books)","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport * as R from 'ramda'\r\n\r\nimport {fetchBookById, addBookToBasket} from '../../actions'\r\nimport {getBookById} from '../../selectors'\r\nimport Layout from '../layout'\r\n\r\nimport './book.css'\r\n\r\nclass Book extends Component {\r\n\r\n    componentDidMount() {        \r\n        this.props.fetchBookById(this.props.match.params.id)\r\n    }\r\n\r\n    renderFields() {\r\n        const {book} = this.props\r\n\r\n        const fields = R.compose(\r\n            R.toPairs,\r\n            R.pick([\r\n            'publishing',\r\n            'size_page',\r\n            'weight',\r\n            'isbn',\r\n            'format',\r\n            'cover'\r\n            ]))(book)        \r\n\r\n        return fields.map(([key, value]) => (\r\n            <div className=\"book__row\" key={key}>\r\n                <div className=\"book__key\">{ this.translateKey(key) }</div>\r\n                <div className=\"book_value\">{ this.translateValue(value) }</div>\r\n            </div>          \r\n        ))\r\n    }    \r\n\r\n    translateKey(key) {\r\n        switch (key) {\r\n            case 'publishing': \r\n                return 'Издательство' \r\n            case 'size_page':\r\n                return 'Количество страниц' \r\n            case  'weight':\r\n                return 'Вес'\r\n            case 'isbn':\r\n                return 'ISBN' \r\n            case 'format':\r\n                return 'Формат'\r\n            case 'cover':\r\n                return 'Обложка' \r\n            default: \r\n                return key\r\n        }\r\n    }\r\n\r\n    translateValue(value) {\r\n        switch (value) {\r\n            case 'hard': \r\n                return 'Твердая' \r\n            case 'soft':\r\n                return 'Мягкая' \r\n            default: \r\n                return value\r\n        }\r\n    }\r\n\r\n    renderBook(book) {\r\n        return ( \r\n            <div className=\"row\">         \r\n                <div className=\"col-md-6 text-center\">\r\n                    <img src={book.image} alt={book.name} className=\"book__img\" />\r\n                </div>\r\n                <div className=\"col-md-6 d-flex flex-column justify-content-start\">\r\n                    <div className=\"book__title\">{book.name}</div>\r\n                    <div className=\"book__author\">{book.author}</div>\r\n                    {this.renderFields()}\r\n                    <div className=\"book__btn\">\r\n                        <button \r\n                            href='#!' \r\n                            type=\"button\" \r\n                            className=\"btn btn-secondary btn-block\"\r\n                            onClick={() => this.props.addBookToBasket(book.id)}>\r\n                            Купить\r\n                        </button>\r\n                    </div>\r\n                </div> \r\n            </div>           \r\n        )\r\n    }\r\n\r\n    render() {\r\n        const {book} = this.props\r\n        return (\r\n            <Layout>\r\n                <section className=\"book\">\r\n                    <div className=\"container\">\r\n                        {book && this.renderBook(book)} \r\n                    </div>\r\n                </section>\r\n            </Layout>\r\n        )                    \r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        book: getBookById(state, state.bookPage.id)\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    fetchBookById,\r\n    addBookToBasket\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Book)\r\n","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport * as R from 'ramda'\r\nimport {Link} from 'react-router-dom'\r\n\r\nimport './basket.css'\r\n\r\nimport {getBasketBooksWithCount, getTotalBasketPrice } from '../../selectors'\r\n\r\nimport {removeBookFromBasket, removeAllFromBasket } from '../../actions'\r\n\r\n\r\nconst Basket = ({books, total, removeBookFromBasket, removeAllFromBasket}) => {   \r\n\r\n    const isBasketEmpty = R.isEmpty(books)\r\n\r\n    const renderContent = () => (        \r\n        \r\n        <div className=\"row\">\r\n            <div className=\"col\">\r\n                {isBasketEmpty \r\n                ? <h3 className=\"basket__heading\">Корзина пуста</h3> \r\n                : <table className=\"table\">\r\n                    <thead>\r\n                        <tr className=\"text-center\">\r\n                        <th scope=\"col\">#</th>\r\n                        <th scope=\"col\">Name</th>\r\n                        <th scope=\"col\">Price</th>\r\n                        <th scope=\"col\">Count</th>\r\n                        <th scope=\"col\"></th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody> \r\n                        {books.map((book, index) => {\r\n                            return (\r\n                                <tr key={index} className=\"text-center\">\r\n                                <th scope=\"row\">\r\n                                    <img src={book.preview} alt={book.name} className=\"img-thumbnail\" />\r\n                                </th>\r\n                                <td className=\"table__name\">{book.name}</td>\r\n                                <td>{book.price}</td>\r\n                                <td>{book.count}</td>\r\n                                <td>\r\n                                    <i  className=\"fas fa-trash-alt\"\r\n                                        onClick={() => removeBookFromBasket(book.id)}></i>\r\n                                </td>\r\n                                </tr>\r\n                            )\r\n                        })}                         \r\n                    </tbody>\r\n                </table>}\r\n            </div>\r\n        </div>                     \r\n    )\r\n\r\n    const renderSidebar = () => (\r\n        <div>\r\n          <Link\r\n            className='btn btn-block btn-info'\r\n            to='/'\r\n          >            \r\n            <span>Продолжить покупки</span>\r\n          </Link>\r\n          {\r\n            R.not(isBasketEmpty) &&            \r\n              <button               \r\n                className='btn btn-block btn-danger'\r\n                onClick={removeAllFromBasket}\r\n              >                \r\n                Очистить корзину\r\n              </button>                        \r\n          }\r\n        </div>\r\n    )\r\n\r\n    return (\r\n        <div className=\"container basket__container\">\r\n            <div className=\"row\">\r\n                <div className=\"col-md-9\">\r\n                    {renderContent()}\r\n                </div>\r\n                <div className=\"col-md-3\">\r\n                    {renderSidebar()}\r\n                </div>   \r\n            </div>                  \r\n            {R.not(isBasketEmpty) &&\r\n            <div className=\"row justify-content-end\">\r\n                <p className=\"basket__total\">Total price: {total}</p>\r\n            </div>\r\n            }                                               \r\n        </div> \r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        books: getBasketBooksWithCount(state),\r\n        total: getTotalBasketPrice(state)\r\n    }\r\n    \r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    removeBookFromBasket,\r\n    removeAllFromBasket\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Basket)\r\n","import React from 'react'\r\nimport {Switch, Route} from 'react-router'\r\n\r\nimport Books from './containers/books'\r\nimport Book from './containers/book'\r\nimport Basket from './containers/basket'\r\n\r\nconst routes = (\r\n    <Switch>\r\n        <Route path='/' component={Books} exact />\r\n        <Route path='/books/:id' component={Book} />\r\n        <Route path='/basket' component={Basket} />\r\n        <Route path='/categories/:id' component={Books} />\r\n    </Switch>\r\n)\r\n\r\nexport default routes\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { createStore, applyMiddleware } from 'redux'\r\nimport {Provider} from 'react-redux'\r\nimport { createBrowserHistory } from 'history'\r\nimport thunk from 'redux-thunk'\r\nimport {routerMiddleware, ConnectedRouter} from 'connected-react-router'\r\nimport {composeWithDevTools} from 'redux-devtools-extension'\r\n\r\nimport createRootReducer from './reducers'\r\nimport routes from './routes'\r\n\r\nconst history = createBrowserHistory()\r\nconst middleware = [thunk, routerMiddleware(history)]\r\nconst store = createStore(\r\n    createRootReducer(history),\r\n    composeWithDevTools(applyMiddleware(...middleware))\r\n)\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n        <ConnectedRouter history={history}>\r\n            {routes}\r\n        </ConnectedRouter>\r\n    </Provider>  \r\n    , document.querySelector('#root'));\r\n\r\n"],"sourceRoot":""}